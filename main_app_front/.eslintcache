[{"F:\\projekt_protokoly\\Protokoly-sieci-Web\\main_app_front\\src\\reportWebVitals.js":"1","F:\\projekt_protokoly\\Protokoly-sieci-Web\\main_app_front\\src\\App.js":"2","F:\\projekt_protokoly\\Protokoly-sieci-Web\\main_app_front\\src\\components\\chatform.js":"3","F:\\projekt_protokoly\\Protokoly-sieci-Web\\main_app_front\\src\\components\\Chatform.js":"4","F:\\projekt_protokoly\\Protokoly-sieci-Web\\main_app_front\\src\\components\\Chatstarter.js":"5","F:\\projekt_protokoly\\Protokoly-sieci-Web\\main_app_front\\src\\components\\Chatroom.js":"6","F:\\projekt_protokoly\\Protokoly-sieci-Web\\main_app_front\\src\\index.js":"7","F:\\projekt_protokoly\\Protokoly-sieci-Web\\main_app_front\\src\\components\\Selector.js":"8","F:\\projekt_protokoly\\Protokoly-sieci-Web\\main_app_front\\src\\components\\Gameform.js":"9","F:\\projekt_protokoly\\Protokoly-sieci-Web\\main_app_front\\src\\components\\Gamestarter.js":"10","F:\\projekt_protokoly\\Protokoly-sieci-Web\\main_app_front\\src\\components\\Gamelist.js":"11","F:\\projekt_protokoly\\Protokoly-sieci-Web\\main_app_front\\src\\components\\Gamewaitroom.js":"12"},{"size":362,"mtime":1609339434000,"results":"13","hashOfConfig":"14"},{"size":297,"mtime":1609545535850,"results":"15","hashOfConfig":"14"},{"size":1249,"mtime":1609541071025,"results":"16","hashOfConfig":"14"},{"size":1641,"mtime":1609619704739,"results":"17","hashOfConfig":"14"},{"size":642,"mtime":1609619705701,"results":"18","hashOfConfig":"14"},{"size":1848,"mtime":1609766679816,"results":"19","hashOfConfig":"14"},{"size":501,"mtime":1609593876076,"results":"20","hashOfConfig":"14"},{"size":813,"mtime":1609682101877,"results":"21","hashOfConfig":"14"},{"size":1139,"mtime":1609674893607,"results":"22","hashOfConfig":"14"},{"size":432,"mtime":1609682103949,"results":"23","hashOfConfig":"14"},{"size":3206,"mtime":1609890753769,"results":"24","hashOfConfig":"14"},{"size":3760,"mtime":1609931141235,"results":"25","hashOfConfig":"14"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},"1newcm6",{"filePath":"29","messages":"30","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"31","messages":"32","errorCount":1,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"33"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"39","messages":"40","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"45"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"52","messages":"53","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"54"},"F:\\projekt_protokoly\\Protokoly-sieci-Web\\main_app_front\\src\\reportWebVitals.js",[],["55","56"],"F:\\projekt_protokoly\\Protokoly-sieci-Web\\main_app_front\\src\\App.js",["57","58"],"F:\\projekt_protokoly\\Protokoly-sieci-Web\\main_app_front\\src\\components\\chatform.js",["59"],"import React from 'react';\r\nimport { useFormik}  from 'formik'; \r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\nconst chatform=(newUser) =>{\r\n  \r\n    const formik=useFormik({\r\n        initialValues:{\r\n           name:'',\r\n            id: uuidv4(),\r\n        },\r\n        validate: values=>{\r\n            let errors={};\r\n            if(!values.name){\r\n                errors.name=\"Pole name nie moze byc puste\"\r\n            }\r\n           \r\n           return errors\r\n        },\r\n    \r\n    onSubmit: values=>{\r\n        newUser(values)\r\n        formik.resetForm({\r\n            values: { name:'',id:uuidv4() }, \r\n          });\r\n    },\r\n    \r\n   \r\n    })\r\n    return (\r\n        <>\r\n        <form onSubmit={formik.handleSubmit} onReset={formik.handleReset}>\r\n        <div>\r\n        <div>\r\n            <label htmlFor=\"text\">TEXT</label>\r\n            <input id=\"text\" name=\"text\" type=\"text\" onChange={formik.handleChange} value={formik.values.name}\r\n            />\r\n            {formik.errors.name ? <div className='error'>{formik.errors.name}</div>: null}\r\n          </div>\r\n         \r\n          <div>\r\n            <button type=\"submit\">Submit</button>\r\n          </div>\r\n          </div>\r\n        </form>\r\n        </>\r\n      );\r\n    \r\n}\r\n\r\nexport default chatform","F:\\projekt_protokoly\\Protokoly-sieci-Web\\main_app_front\\src\\components\\Chatform.js",[],["60","61"],"F:\\projekt_protokoly\\Protokoly-sieci-Web\\main_app_front\\src\\components\\Chatstarter.js",[],"F:\\projekt_protokoly\\Protokoly-sieci-Web\\main_app_front\\src\\components\\Chatroom.js",["62","63"],"F:\\projekt_protokoly\\Protokoly-sieci-Web\\main_app_front\\src\\index.js",[],"F:\\projekt_protokoly\\Protokoly-sieci-Web\\main_app_front\\src\\components\\Selector.js",[],["64","65"],"F:\\projekt_protokoly\\Protokoly-sieci-Web\\main_app_front\\src\\components\\Gameform.js",[],"F:\\projekt_protokoly\\Protokoly-sieci-Web\\main_app_front\\src\\components\\Gamestarter.js",[],"F:\\projekt_protokoly\\Protokoly-sieci-Web\\main_app_front\\src\\components\\Gamelist.js",[],"F:\\projekt_protokoly\\Protokoly-sieci-Web\\main_app_front\\src\\components\\Gamewaitroom.js",["66","67","68","69","70"],"import React, { useState, useEffect } from 'react';\r\nimport Chatroom from './Chatroom.js'\r\nimport uuidv4 from 'uuid';\r\nconst axios = require('axios');\r\nconst mqtt = require('mqtt');\r\nconst Gamewaitroom = ({ name, usernick, type }) => {\r\n\r\n  const mqtt = require('mqtt');\r\n  const [Client, setClient] = useState(mqtt.connect('ws://10.45.3.14:8000/mqtt'));\r\n  const [connectionStatus, setConnectionStatus] = useState(false);\r\n  const [Tiles, setTiles] = useState(['X', 'X', 'X', 'X', 'X', 'X', 'X', 'X', 'X', 'X', 'X', 'X'])\r\n  const [Started, isStarted] = useState(false)\r\n  const [gamelist, setgamelist] = useState([])\r\n\r\n\r\n  useEffect(() => {\r\n\r\n    if (!connectionStatus) {\r\n      setClient(mqtt.connect('ws://10.45.3.14:8000/mqtt'))\r\n      setConnectionStatus(true)\r\n    }\r\n  }, [])\r\n  useEffect(() => {\r\n    if (name) {\r\n      Client.subscribe(name)\r\n    }\r\n\r\n  }, [name])\r\n  useEffect(() => {\r\n\r\n    Client.on('message', function (topic, messag) {\r\n      let wiadomosc = messag.toString();\r\n\r\n      if (wiadomosc === \"refresh\") {\r\n        console.log('reset');\r\n        refresh()\r\n      }\r\n      if (wiadomosc === \"start\") {\r\n        isStarted(true)\r\n        refresh()\r\n      }\r\n      if (wiadomosc === \"refresh tiles\") {\r\n        console.log('resetuje kafelki');\r\n        refresh_tiles()\r\n      }\r\n    });\r\n\r\n  }, [Client])\r\n  useEffect(() => {\r\n    axios.get(`http://localhost:3050/${name}/allplayers`)\r\n      .then(function (response) {\r\n        setgamelist(response.data)\r\n      })\r\n      .catch(function (error) {\r\n        console.log(error);\r\n      })\r\n  }, [])\r\n  function refresh() {\r\n    axios.get(`http://localhost:3050/${name}/allplayers`)\r\n      .then(function (response) {\r\n\r\n        setgamelist(response.data)\r\n      })\r\n      .catch(function (error) {\r\n        console.log(error);\r\n      })\r\n  }\r\n  function refresh_tiles() {\r\n    axios.get(`http://localhost:3050/${name}`)\r\n\r\n      .then(function (response) {\r\n\r\n        setTiles(response.data)\r\n      })\r\n      .catch(function (error) {\r\n        console.log(error);\r\n      })\r\n  }\r\n  function startgame() {\r\n    if (type === 'gamer') {\r\n      axios.get(`http://localhost:3050/${name}/start`)\r\n        .then(function (response) {\r\n          console.log('gra rozpoczeta');\r\n        })\r\n        .catch(function (error) {\r\n          console.log(error);\r\n        })\r\n    }\r\n    else {\r\n      alert('You arent gamer you cant play :(')\r\n    }\r\n  }\r\n  function chosetile(index) {\r\n    if (type === 'gamer') {\r\n      console.log(Tiles[index]);\r\n      if (Tiles[index] === 'X') {\r\n        axios.post(`http://localhost:3050/${name}`, {\r\n          number: index,\r\n          player:  usernick\r\n        })\r\n          .then(function (response) {\r\n            if(response.data){\r\n              console.log('ok');\r\n            }\r\n            else{\r\n              alert('To nie twoja tura')\r\n            }\r\n          })\r\n          .catch(function (error) {\r\n            console.log(error);\r\n          })\r\n      }\r\n      else {\r\n        alert('You cant chose that tile you can only choose X tiles :(')\r\n      }\r\n    }\r\n    else {\r\n      alert('You arent gamer you cant play :(')\r\n    }\r\n  }\r\n  let kafelki = Tiles.map((tile, index) => (<div key={uuidv4()} onClick={() => chosetile(index)} className='tile'>{tile}</div>))\r\n  let view = gamelist.map((elem) => (<div key={elem}>{elem}</div>))\r\n\r\n    return (\r\n      <div >\r\n        {Started ? <div> Start gry</div>     :   <button onClick={() => startgame()}>StartGame</button>}\r\n        {Started ?  <div className='Tiles'>{kafelki} </div>    :   <h1 >Waiting List: {name}</h1>}\r\n        \r\n      \r\n        {view}\r\n        <Chatroom room={`Game/${name}`} user={`${usernick}(${type})`} ></Chatroom>\r\n\r\n      </div>\r\n    )\r\n  }\r\n\r\n\r\n\r\nexport default Gamewaitroom;",{"ruleId":"71","replacedBy":"72"},{"ruleId":"73","replacedBy":"74"},{"ruleId":"75","severity":1,"message":"76","line":1,"column":16,"nodeType":"77","messageId":"78","endLine":1,"endColumn":24},{"ruleId":"75","severity":1,"message":"79","line":1,"column":25,"nodeType":"77","messageId":"78","endLine":1,"endColumn":34},{"ruleId":"80","severity":2,"message":"81","line":7,"column":18,"nodeType":"77","endLine":7,"endColumn":27},{"ruleId":"71","replacedBy":"82"},{"ruleId":"73","replacedBy":"83"},{"ruleId":"84","severity":1,"message":"85","line":19,"column":6,"nodeType":"86","endLine":19,"endColumn":8,"suggestions":"87"},{"ruleId":"84","severity":1,"message":"88","line":25,"column":6,"nodeType":"86","endLine":25,"endColumn":12,"suggestions":"89"},{"ruleId":"71","replacedBy":"90"},{"ruleId":"73","replacedBy":"91"},{"ruleId":"75","severity":1,"message":"92","line":5,"column":7,"nodeType":"77","messageId":"78","endLine":5,"endColumn":11},{"ruleId":"84","severity":1,"message":"93","line":22,"column":6,"nodeType":"86","endLine":22,"endColumn":8,"suggestions":"94"},{"ruleId":"84","severity":1,"message":"88","line":28,"column":6,"nodeType":"86","endLine":28,"endColumn":12,"suggestions":"95"},{"ruleId":"84","severity":1,"message":"96","line":48,"column":6,"nodeType":"86","endLine":48,"endColumn":14,"suggestions":"97"},{"ruleId":"84","severity":1,"message":"98","line":57,"column":6,"nodeType":"86","endLine":57,"endColumn":8,"suggestions":"99"},"no-native-reassign",["100"],"no-negated-in-lhs",["101"],"no-unused-vars","'useState' is defined but never used.","Identifier","unusedVar","'useEffect' is defined but never used.","react-hooks/rules-of-hooks","React Hook \"useFormik\" is called in function \"chatform\" that is neither a React function component nor a custom React Hook function. React component names must start with an uppercase letter.",["100"],["101"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'connectionStatus'. Either include it or remove the dependency array.","ArrayExpression",["102"],"React Hook useEffect has a missing dependency: 'Client'. Either include it or remove the dependency array.",["103"],["100"],["101"],"'mqtt' is assigned a value but never used.","React Hook useEffect has missing dependencies: 'connectionStatus' and 'mqtt'. Either include them or remove the dependency array.",["104"],["105"],"React Hook useEffect has missing dependencies: 'refresh' and 'refresh_tiles'. Either include them or remove the dependency array.",["106"],"React Hook useEffect has a missing dependency: 'name'. Either include it or remove the dependency array.",["107"],"no-global-assign","no-unsafe-negation",{"desc":"108","fix":"109"},{"desc":"110","fix":"111"},{"desc":"112","fix":"113"},{"desc":"114","fix":"115"},{"desc":"116","fix":"117"},{"desc":"118","fix":"119"},"Update the dependencies array to be: [connectionStatus]",{"range":"120","text":"121"},"Update the dependencies array to be: [Client, room]",{"range":"122","text":"123"},"Update the dependencies array to be: [connectionStatus, mqtt]",{"range":"124","text":"125"},"Update the dependencies array to be: [Client, name]",{"range":"126","text":"127"},"Update the dependencies array to be: [Client, refresh, refresh_tiles]",{"range":"128","text":"129"},"Update the dependencies array to be: [name]",{"range":"130","text":"131"},[669,671],"[connectionStatus]",[756,762],"[Client, room]",[782,784],"[connectionStatus, mqtt]",[869,875],"[Client, name]",[1320,1328],"[Client, refresh, refresh_tiles]",[1569,1571],"[name]"]